# 原则解释

wiki解释:

> 在面向对象编程领域中，开闭原则规定“软件中的对象（类，模块，函数等等）应该对于扩展是开放的，但是对于修改是封闭的”[1]，这意味着一个实体是允许在不改变它的源代码的前提下变更它的行为。该特性在产品化的环境中是特别有价值的，在这种环境中，改变源代码需要代码审查，单元测试以及诸如此类的用以确保产品使用质量的过程。遵循这种原则的代码在扩展时并不发生改变，因此无需上述的过程。


# 具体理解

开闭原则的核心内容有两个：对扩展开放 和 对修改关闭

拆解一下这两个内容，可以分成4个概念来解释

## 扩展

对当前的系统/模块行为进行相同行为逻辑的扩充：比如当前是一个审核结果通知模块，具有将审核结果通知给接受者，这样的一个行为逻辑。当前实现了的一个具体行为是使用邮件通知给接收者。后续要求同时通过如流IM软件通知接收者，这个增加的行为就和之前的“用邮件通知”是一个行为逻辑（对审核结果模块）。实现这个需求就是叫“扩展”。扩展功能和添加新功能有时候还是有些区别的。系统设计的抽象模型越合理，就越容易通过扩展的形式完成需求。反之，则需要进行修改才能达到目的。

## 修改

与扩展的行为不同，这里的修改一般指的入侵式的迭代行为。还是上面提到的审核结果通知模块，增加如流通知功能，需要去修改模块内部代码来实现，这种行为就是这里指的修改。

## 开放

开放指的是允许、鼓励、可以实现的意思，即提供一种可能性。具体在开闭原则这里的意思就是提供以扩展形式迭代功能的可能性和机制

## 关闭

关闭指的就是不允许、不建议。有时候通过代码库隔离的方式，可以做到完全的“关闭”（即你想改也不可能的，比如vscode的插件功能，社区的一般开发者是只能通过extension_api来开发插件来扩展功能，核心的core代码是没有对外开放的）

# 具体场景

有关http请求 Request的一些问题

有些时候，开发了一个功能，设计了一些类，组合的也很好。上线一段时间后，接到需求，在某些情况下，要做一个内部逻辑的调整。一般都是从http请求参数带进来标识。如果没有考虑开闭原则，极容易设计成内部组件还要外部透传http request变量的情形。每次迭代都要一层一层的来使用http request。
